write decoding tests
write extension tests
